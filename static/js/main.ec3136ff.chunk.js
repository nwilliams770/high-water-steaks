(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/meat_consumption.4e3b16ba.csv"},31:function(e,t,a){e.exports=a.p+"static/media/meat_water_cost.003338b1.csv"},38:function(e,t,a){e.exports=a(68)},64:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),i=a.n(r),o=a(5),s=a(6),l=a(8),u=a(7),h=a(9),p=a(28),v=a(21),m=a(18),y=a.n(m),f=a(29),d=a(10),b=a(30),j=a.n(b),g=a(31),k=a.n(g),O=a(20),S=a(13),w=a(2),E=a(36);function x(){document.querySelector(".tooltip").style.display="none"}var A=function(){return c.a.createElement("div",{className:"tooltip"})},N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this))).handleMouseOver=a.handleMouseOver.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"componentDidUpdate",value:function(){this.renderAxis()}},{key:"renderAxis",value:function(){var e="axis".concat(this.props.orient);E[e]().scale(this.props.scale).tickSize(-this.props.tickSize).tickPadding([18]).ticks(4,"s")(Object(w.c)(this.axisElement))}},{key:"handleMouseOver",value:function(e){this.props.tooltip&&function(e,t){var a,n=document.querySelector(".tooltip");n.innerHTML=(a=t[e.target.innerHTML]).includes(",")?a.split(",").reverse().join().replace(","," "):a,n.style.display="inline-block",n.style.left=e.pageX+"px",n.style.top=e.pageY+15+"px"}(e,this.props.countryKey)}},{key:"render",value:function(){var e=this;return c.a.createElement("g",{onMouseOver:function(t){return e.handleMouseOver(t)},onMouseLeave:x,className:"Axis Axis-".concat(this.props.orient),ref:function(t){e.axisElement=t},transform:this.props.translate})}}]),t}(c.a.Component),L=function(e){var t=e.scales,a=e.svgDimensions,n=e.margins,r=e.countryKey,i=a.height,o=a.width,s={orient:"Bottom",scale:t.xScale,translate:"translate(0,".concat(i-n.bottom,")"),tickSize:i-n.top-n.bottom,tooltip:!0,countryKey:r},l={orient:"Left",scale:t.yScale,translate:"translate(".concat(n.left,", 0)"),tickSize:o-n.left-n.right,tooltip:!1};return c.a.createElement("g",{className:"axes"},c.a.createElement(N,s),c.a.createElement(N,l))},D=a(15),M=(a(67),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={y:e.y,opacity:e.opacity,height:e.height},a.barRef=c.a.createRef(),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=Object(w.c)(this.barRef.current);this.props.opacity!==e.opacity?this.props.opacity<e.opacity?this.fadeOut(a):this.fadeIn(a):this.props.y!==e.y&&this.props.height!==e.height?this.yearUpdated(a):this.props.y!==e.y&&(this.props.y>e.y?this.transformBar(a):this.restoreBar(a))}},{key:"fadeOut",value:function(e){var t=this;e.transition().duration(1e3).attr("opacity",this.props.opacity).on("end",function(){return t.setState({opacity:t.props.opacity})})}},{key:"fadeIn",value:function(e){var t=this;e.transition().duration(1e3).delay(750).attr("opacity",this.props.opacity).on("end",function(){return t.setState({opacity:t.props.opacity})})}},{key:"yearUpdated",value:function(e){var t=this;e.transition().duration(300).attr("y",this.props.y).transition().duration(300).attr("height",this.props.height).on("end",function(){return t.setState({height:t.props.height,y:t.props.y})})}},{key:"transformBar",value:function(e){var t=this;e.transition().ease(D.a).duration(1e3).delay(850).attr("y",this.props.y).on("end",function(){return t.setState({y:t.props.y})})}},{key:"restoreBar",value:function(e){var t=this;e.transition().duration(1e3).attr("y",this.props.y).on("end",function(){return t.setState({y:t.props.y})})}},{key:"render",value:function(){var e=this.state,t=e.y,a=e.opacity,n=e.height,r=this.props,i=r.x,o=r.width;return c.a.createElement("rect",{x:i,y:t,height:n,width:o,opacity:a,ref:this.barRef})}}]),t}(c.a.Component)),z=function(e){function t(e){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"createBarGroups",value:function(){for(var e=this,t={poultry:[],pork:[],mutton:[],beef:[]},a=this.props,n=a.data,r=a.scales,i=a.activeSubject,o=r.xScale,s=r.yScale,l=0;l<n.length;l++){var u=function(a){var r=n[l].stacks.filter(function(e){return e.subject===a})[0],u=o(n[l].emoji),h=s(r.y1),p=s(r.y0)-s(r.y1),v=o.bandwidth(),m=e.calcOpacity(i,a);e.subjectActive(a,i)&&(h=e.calcBarTransformation(n[l],r)),t[a].push(c.a.createElement(M,{key:"".concat(a,"-").concat(l),x:u,y:h,height:p,width:v,opacity:m}))};for(var h in t)u(h)}return t}},{key:"subjectActive",value:function(e,t){return t&&"beef"!==t&&t===e}},{key:"calcOpacity",value:function(e,t){return e?e===t?100:0:100}},{key:"calcBarTransformation",value:function(e,t){var a=this.props.scales.yScale,n=e.stacks.filter(function(e){return"beef"===e.subject})[0],c=a(t.y0)-a(t.y1),r=(a(t.y1),a(n.y0)-a(n.y1));return a(n.y1)-(c-r)}},{key:"render",value:function(){var e=this.createBarGroups();return c.a.createElement("g",{className:"bars"},c.a.createElement("g",{className:"poultry"},e.poultry),c.a.createElement("g",{className:"pork"},e.pork),c.a.createElement("g",{className:"mutton"},e.mutton),c.a.createElement("g",{className:"beef"},e.beef))}}]),t}(c.a.Component),C=function(e){e.icons;var t=e.svgDimensions,a=e.updateSubject,n=t.width,r=["beef","mutton","pork","poultry"].reverse().map(function(e,t){return c.a.createElement("g",{onClick:function(){return a(e)},key:"".concat(e,"-icon"),transform:"translate(0,".concat(10+20*t,")"),className:e+" article"},c.a.createElement("rect",{x:n-24,width:12,height:12}),c.a.createElement("text",{x:n-32,y:9},e))});return c.a.createElement("g",{className:"legend",transform:"translate(60, 0)"},r)},B=a(19),H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this))).xScale=Object(B.a)(),a.yScale=Object(B.b)(),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"findMaxValue",value:function(e){return Math.max.apply(Math,e.map(function(e){return e.total}))}},{key:"render",value:function(){var e=this.props,t=e.svgDimensions,a=e.margins,n=e.data,r=e.emojis,i=e.maxValue,o=e.updateSubject,s=e.activeSubject,l=e.countryKey,u=e.title,h=this.props.legendIcons?c.a.createElement(C,{icons:this.props.legendIcons,svgDimensions:t,updateSubject:o}):"",p=this.xScale.padding(.5).domain(Object.values(r)).rangeRound([a.left,t.width-a.right]),v=this.yScale.domain([0,i]).range([t.height-a.bottom,a.top]);return c.a.createElement("svg",{className:"vis",width:h?t.width+50:t.width,height:t.height},c.a.createElement(L,{scales:{xScale:p,yScale:v},svgDimensions:t,margins:a,countryKey:l}),c.a.createElement(z,{scales:{xScale:p,yScale:v},data:n,activeSubject:s}),h,c.a.createElement(V,{title:u,svgDimensions:t,margins:a}))}}]),t}(c.a.Component),V=function(e){var t=e.title,a=e.svgDimensions,n=e.margins;return c.a.createElement("text",{className:"title",x:(a.width-n.top-n.bottom)/2,y:.4*n.top},t)},K=H,W=a(37),I=function(e){var t=e.years,a=e.updateYear,n=e.defaultValue,r=t.map(function(e){return{value:e,label:"".concat(e)}});return c.a.createElement("div",{className:"selector module"},c.a.createElement(W.a,{options:r,defaultValue:{value:n,label:n},className:"basic-single",classNamePrefix:"select",autosize:!1,placeholder:"Select overlay...",onChange:function(e){return a(e)}}))},Y={chicken:"m417.164062 144.601562h-33.542968c-.234375-2.425781-.59375-4.8125-1.066406-7.15625 1.125-.5625 2.335937-1.167968 3.601562-1.800781 18.472656-9.234375 29.941406-27.800781 29.941406-48.472656 0-25.320313-22.109375-46.9375-49.402344-43.5-5.304687-24.917969-27.488281-43.671875-53.980468-43.671875-26.476563 0-48.652344 18.75-53.945313 43.671875-27.136719-3.429687-49.402343 18-49.402343 43.515625 0 20.65625 11.472656 39.226562 29.953124 48.464844 1.265626.628906 2.46875 1.230468 3.589844 1.792968-.921875 4.566407-1.410156 9.289063-1.410156 14.121094v16.132813c0 22.699219-18.472656 41.167969-41.167969 41.167969h-68.382812l-109.007813-62.289063c-9.984375-5.710937-22.441406 1.523437-22.441406 13.023437v25.480469c0 18.65625 7.265625 36.199219 20.460938 49.390625l11.574218 11.578125c.0625.058594.097656.148438.097656.234375v9.714844c0 87.042969 63.636719 159.488281 146.828126 173.285156l10.542968 52.714844h-13.839844c-8.28125 0-15 6.714844-15 15s6.71875 15 15 15h96.402344c8.285156 0 15-6.714844 15-15s-6.714844-15-15-15h-51.96875l-10.074218-50.359375c95.839843-1.199219 173.441406-79.519531 173.441406-175.640625v-81.398438h33.199218c8.285157 0 15-6.71875 15-15 0-8.285156-6.714843-15-15-15zm-164.441406-35.789062c-8.238281-4.121094-13.355468-12.40625-13.355468-21.640625 0-4.441406 2.148437-8.644531 5.761718-11.242187 3.601563-2.597657 8.261719-3.3125 12.46875-1.90625 5.976563 1.996093 10.234375 3.410156 10.234375 3.410156 4.570313 1.519531 9.597657.753906 13.507813-2.066406 3.910156-2.820313 6.226562-7.347657 6.226562-12.167969v-8.046875c0-13.871094 11.28125-25.152344 25.167969-25.152344 13.875 0 25.164063 11.289062 25.164063 25.167969v8.03125c0 4.820312 2.316406 9.347656 6.226562 12.167969 3.910156 2.820312 8.9375 3.585937 13.511719 2.066406 0 0 4.253906-1.417969 10.226562-3.410156 4.210938-1.402344 8.875-.691407 12.484375 1.910156 3.601563 2.59375 5.753906 6.796875 5.753906 11.253906 0 9.21875-5.117187 17.503906-13.34375 21.617188-.78125.390624-1.539062.765624-2.273437 1.132812-12.949219-17.914062-34.003906-29.605469-57.75-29.605469s-44.800781 11.691407-57.75 29.605469c-.730469-.363281-1.484375-.738281-2.261719-1.125zm101.242188 147.1875c0 80.320312-65.34375 145.667969-145.664063 145.667969-80.324219 0-145.667969-65.347657-145.667969-145.667969v-9.714844c0-7.984375-3.238281-15.804687-8.886718-21.449218l-11.574219-11.578126c-7.441406-7.4375-11.578125-17.304687-11.671875-27.808593l82.820312 47.324219c4.546876 57.277343 52.605469 102.492187 111.03125 102.492187h32.148438c8.28125 0 15-6.714844 15-15s-6.71875-15-15-15h-32.148438c-39.757812 0-72.921874-28.660156-79.980468-66.398437h55.957031c39.304687 0 71.171875-31.800782 71.171875-71.171876v-16.128906c0-22.738281 18.496094-41.234375 41.230469-41.234375 22.738281 0 41.234375 18.496094 41.234375 41.234375zm0 0",pig:"m3.761719 159.28125 107.726562 67.328125-15.359375 84.457031c-.425781 2.335938.207032 4.738282 1.726563 6.558594 1.523437 1.820312 3.773437 2.875 6.144531 2.875h32c2.90625-.003906 5.582031-1.578125 6.992188-4.121094l31.945312-57.480468c1.523438-2.765626 2.859375-5.632813 4-8.582032 22.207031 3.710938 44.683594 5.585938 67.199219 5.597656 36.921875-.007812 73.675781-4.984374 109.269531-14.789062 7.320312 4.308594 15.347656 7.285156 23.707031 8.796875l28 5.089844-7.066406 56.496093c-.285156 2.277344.425781 4.570313 1.945313 6.292969 1.523437 1.71875 3.710937 2.703125 6.007812 2.699219h40c3.671875 0 6.871094-2.503906 7.761719-6.066406l24-96c.816406-3.277344-.511719-6.714844-3.320313-8.589844l-20.441406-13.625v-91.71875c-.066406-57.410156-46.589844-103.933594-104-104h-296c-4.417969 0-8 3.582031-8 8-.054688 16.675781 7.457031 32.480469 20.425781 42.96875-2.035156 3.417969-3.878906 6.949219-5.523437 10.574219l-9.597656 26.542969c-1.980469 5.4375-6.742188 9.378906-12.449219 10.3125l-34.175781 5.695312c-3.859376.648438-6.6875005 3.992188-6.679688 7.90625v40c0 2.757812 1.421875 5.320312 3.761719 6.78125zm12.238281-40 27.488281-4.582031c11.386719-1.90625 20.863281-9.796875 24.800781-20.648438l9.398438-25.960937c1.339844-2.902344 2.832031-5.734375 4.472656-8.480469l.984375.441406c15.535157 6.949219 33.511719 5.683594 47.917969-3.375.28125-.167969.546875-.351562.800781-.550781l9.167969-7.378906-10.03125-12.464844-8.800781 7.058594c-9.832031 6.015625-21.996094 6.804687-32.519531 2.101562l-3.457032-1.542968c-11.148437-5.132813-19.132812-15.339844-21.421875-27.398438h87.648438v.160156c1.773437-.109375 3.5625-.160156 5.359375-.160156h194.191406c48.578125.054688 87.941406 39.421875 88 88v12c0 6.625-5.371094 12-12 12s-12-5.375-12-12c0-15.464844-12.535156-28-28-28h-12v16h12c6.628906 0 12 5.371094 12 12 0 15.464844 12.535156 28 28 28 4.160156-.023438 8.261719-.984375 12-2.808594v58.808594c0 2.671875 1.335938 5.171875 3.558594 6.65625l19.3125 12.871094-21.117188 84.472656h-24.691406l6.875-55.007812c.519531-4.210938-2.332031-8.097657-6.503906-8.855469l-35.449219-6.449219c-26.632813-4.839844-45.988281-28.035156-45.984375-55.105469v-2.582031h-16v2.582031c-.003906 18.4375 7.082031 36.167969 19.792969 49.519531-51.308594 12.457032-104.585938 14.535157-156.703125 6.113282.578125-3.570313.882812-7.179688.910156-10.800782v-47.414062h-16v47.414062c-.007812 9.519532-2.433594 18.878907-7.046875 27.199219l-29.65625 53.386719h-17.695313l14.285157-78.570312c.082031-.472657.121093-.949219.113281-1.429688v-48h-16v31.566406l-96-60zm0 0",sheep:"m375.996094 56.5h-188.6875l-20.472656-20.472656c.734374-2.441406 1.125-4.976563 1.160156-7.527344 0-15.464844-12.535156-28-28-28h-70.742188c-10.613281-.027344-20.796875 4.195312-28.28125 11.71875l-30.34375 30.34375c-10.378906 10.378906-13.484375 25.984375-7.867187 39.542969 5.617187 13.554687 18.847656 22.394531 33.523437 22.394531h27.710938v109.601562c.089844 18.171876 7.460937 35.554688 20.464844 48.253907 3.5 3.386719 7.371093 6.375 11.535156 8.902343v89.242188c0 4.417969 3.582031 8 8 8h32c3.980468 0 7.355468-2.925781 7.921875-6.863281l12.550781-87.890625.175781-.09375c1.445313-.738282 2.859375-1.535156 4.246094-2.402344l.441406-.261719c3.132813-1.90625 6.09375-4.078125 8.855469-6.488281h203.511719c.273437.230469.5625.429688.800781.65625.855469.734375 1.746094 1.421875 2.648438 2.113281.742187.566407 1.488281 1.148438 2.265624 1.6875 1.007813.703125 2.046876 1.351563 3.101563 2 .703125.4375 1.410156.886719 2.136719 1.300781 1.160156.65625 2.398437 1.242188 3.566406 1.824219.671875.320313 1.328125.671875 2.007812.96875 1.25.554688 2.539063 1.03125 3.832032 1.503907.691406.257812 1.371094.527343 2.066406.761718 1.230469.398438 2.503906.726563 3.765625 1.054688.800781.214844 1.601563.449218 2.402344.632812 1.113281.238282 2.246093.40625 3.382812.589844.472657.082031.945313.1875 1.417969.257812l16.183594 25.871094-15.023438 52.585938c-.691406 2.421875-.199218 5.027344 1.324219 7.03125s3.898437 3.175781 6.417969 3.160156h40c3.570312-.003906 6.710937-2.375 7.6875-5.808594l16-56c.476562-1.644531.410156-3.402344-.191406-5.007812l-16.113282-42.945313c10.730469-12.265625 16.636719-28.015625 16.617188-44.3125v-53.925781c-.066406-57.410156-46.589844-103.933594-104-104zm-339.710938 32c-8.207031.003906-15.605468-4.9375-18.746094-12.519531-3.136718-7.578125-1.402343-16.304688 4.402344-22.105469l30.34375-30.34375c4.308594-4.257812 10.0625-6.738281 16.121094-6.945312-2.855469 4.820312-4.378906 10.3125-4.410156 15.914062v56zm92.800782 264h-17.089844v-74.214844c.121094 0 .242187.039063.351562.070313 2.570313.703125 5.183594 1.238281 7.824219 1.601562l.746094.109375c2.347656.285156 4.710937.429688 7.078125.433594h1.503906c1.199219 0 2.398438-.144531 3.566406-.242188.585938-.046874 1.179688-.054687 1.753906-.117187 1.382813-.152344 2.753907-.386719 4.121094-.625.183594 0 .367188 0 .550782-.054687zm320.902343 0h-23.359375l13.078125-45.808594c.621094-2.164062.292969-4.492187-.902343-6.398437l-12.800782-20.53125c.214844 0 .425782-.09375.640625-.132813 1-.167968 1.96875-.410156 2.953125-.632812 1.132813-.25 2.277344-.464844 3.390625-.800782.238281-.0625.464844-.160156.695313-.230468 3.355468-.988282 6.617187-2.261719 9.753906-3.808594.261719-.136719.542969-.234375.800781-.367188 1.09375-.5625 2.148438-1.210937 3.199219-1.832031.800781-.464843 1.597656-.914062 2.398438-1.417969.25-.160156.511718-.289062.761718-.457031l13.039063 34.761719zm14.007813-138.074219c.035156 13.789063-5.5 27.007813-15.351563 36.65625l-.089843.074219c-1.875 1.8125-3.890626 3.472656-6.03125 4.96875-.207032.144531-.40625.292969-.625.4375-1.941407 1.308594-3.976563 2.472656-6.09375 3.472656-.441407.207032-.886719.410156-1.34375.609375-2.074219.914063-4.214844 1.667969-6.402344 2.253907-.398438.105468-.796875.183593-1.230469.289062-2.347656.582031-4.742187.972656-7.152344 1.167969-1.207031.089843-2.398437.082031-3.609375.082031-1.207031 0-2.316406-.058594-3.628906-.144531h-.050781c-.726563-.058594-1.453125-.097657-2.183594-.183594-.726563-.089844-1.375-.203125-2.0625-.320313-.984375-.160156-1.96875-.335937-2.9375-.5625-.589844-.144531-1.183594-.304687-1.765625-.464843-1.03125-.277344-2.050781-.582031-3.058594-.933594-.53125-.1875-1.066406-.378906-1.597656-.578125-1.023438-.390625-2.03125-.796875-3.023438-1.285156-.496093-.234375-.992187-.472656-1.480468-.722656-.984375-.496094-1.9375-1.039063-2.882813-1.597657-.46875-.289062-.949219-.5625-1.40625-.855469-.9375-.609374-1.847656-1.265624-2.742187-1.9375-.417969-.320312-.851563-.617187-1.265625-.945312-.976563-.796875-1.902344-1.597656-2.824219-2.488281-9.667969-9.039063-15.15625-21.683594-15.160156-34.917969v-8h-16v8c.003906 11.246094 2.988281 22.289062 8.65625 32h-177.3125c5.667968-9.710938 8.65625-20.753906 8.65625-32v-24h-16v24c.007812 12.78125-5.101563 25.03125-14.183594 34.023438-.121094.105468-.28125.144531-.390625.257812-6.648437 6.171875-14.769531 10.535156-23.585937 12.671875-2.667969.550781-5.378907.875-8.105469.957031-.351563 0-.710938.050782-1.070313.058594-1.601562.027344-3.203125-.035156-4.800781-.191406-.304687 0-.605469-.082032-.917969-.121094-1.523437-.171875-3.035156-.421875-4.527344-.761719l-.523437-.125c-3.566406-.859375-7.015625-2.140625-10.277344-3.816406-.183593-.089844-.386719-.121094-.570312-.203125-4.179688-2.222656-8.019531-5.035156-11.398438-8.351562-9.929687-9.679688-15.566406-22.933594-15.648437-36.796876v-181.601562c0-8.835938 7.164062-16 16-16h44c6.628906 0 12 5.371094 12 12s-5.371094 12-12 12h-28v16h28c6.601562-.027344 12.972656-2.40625 17.976562-6.710938l20.367188 20.367188c1.5 1.5 3.535156 2.34375 5.65625 2.34375h192c48.578125.058594 87.941406 39.421875 88 88zm0 0",cow:"M111.86,2.36H44.32v.08L40.63,1A12.29,12.29,0,0,0,29.18,2.14L23.69.31A12,12,0,0,0,14.29,2a10.7,10.7,0,0,0-6-1.81H2.1A2.13,2.13,0,0,0,0,2.36c0,4,.59,8.88,5.44,11.48l.62.29L1.14,23A8.8,8.8,0,0,0,8.78,36.12H21a2.11,2.11,0,0,1,1.63.79L37.49,55.29A2.11,2.11,0,0,1,38,56.62V88.9A2.1,2.1,0,0,0,40.07,91H48.5a2.13,2.13,0,0,0,2.08-1.71L56.19,61a2.11,2.11,0,0,1,2.15-1.66h46.28l4.94,5-4,24.24A2.1,2.1,0,0,0,107.63,91h8.44a2.12,2.12,0,0,0,2-1.49l8.44-27.43a2.13,2.13,0,0,0,0-1.41l-3-7.42a6.27,6.27,0,0,1,0-4.74l3-7.37a2.15,2.15,0,0,0,.15-.8V17.13A14.79,14.79,0,0,0,111.86,2.36ZM7.32,10.05c-1.83-1-2.77-2.62-3-5.59h4a5.81,5.81,0,0,1,2.84.6l-.34.49-2.7,4.87Zm98.21,7.08H99.2v4.23h6.33a4.24,4.24,0,0,1,4.23,4.22v2.11A8.43,8.43,0,0,0,122.42,35v5l-2.82,7a10.44,10.44,0,0,0,0,7.92l2.7,6.7-7.77,25.23h-4.4l3.81-22.88a2,2,0,0,0-.59-1.83L102.29,51a10.54,10.54,0,0,1-3.09-7.46v-3.2H95v3.2A14.89,14.89,0,0,0,99.3,54l1.14,1.13h-42a6.36,6.36,0,0,0-6.33,5L46.82,86.77h-4.6V56.62a6.25,6.25,0,0,0-1.44-4L25.87,34.27A6.3,6.3,0,0,0,21,31.92H8.78A4.62,4.62,0,0,1,4.2,27.37a4.54,4.54,0,0,1,.6-2.28L14.39,7.78a7.89,7.89,0,0,1,8.12-3.39l6.33,2.1a2.14,2.14,0,0,0,2-.34A8.19,8.19,0,0,1,39,5l3.71,1.43c-1.76,3.51-3.61,4.26-5,4.43H33.71v4.23h4.23a.93.93,0,0,0,.27,0c4-.49,6.95-3.24,9.08-8.43h64.52a10.57,10.57,0,0,1,10.56,10.56v6.33h0v4.21a4.23,4.23,0,0,1-8.46,0V25.58A8.37,8.37,0,0,0,105.53,17.13Z"},J=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={year:"2019",activeSubject:""},e.updateYear=e.updateYear.bind(Object(d.a)(Object(d.a)(e))),e.updateSubject=e.updateSubject.bind(Object(d.a)(Object(d.a)(e))),e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getData().then(function(t){var a=e.processData(t);e.setState({meat:a.meat,emojis:t.emojis,water:a.water})})}},{key:"getData",value:function(){var e=Object(f.a)(y.a.mark(function e(){var t,a,n,c,r,i,o;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)(j.a);case 2:return t=e.sent,e.next=5,Object(O.a)(k.a);case 5:for(a=e.sent,n=[1995,2025],c=this.instantiateStarterObject(n),r=0;r<t.length;r++)"undefined"!==typeof S.countries[t[r].location]&&n[0]<=parseInt(t[r].year)&&"KG_CAP"===t[r].measure&&(i=S.countries[t[r].location].name,c.data[t[r].year][t[r].subject.toLowerCase()][i]=t[r].value,c.emojis[[S.countries[t[r].location].name]]=S.countries[t[r].location].emoji);return o={},a.forEach(function(e){var t=e.MEAT,a=e.WATER;o[t.toLowerCase()]=a}),c.water=o,e.abrupt("return",c);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"processData",value:function(e){var t=this.sortDataByCountry(e);return{meat:this.calcMeatStacks(t),water:this.calcWaterStacks(t)}}},{key:"calcMeatStacks",value:function(e){var t=["poultry","pork","mutton","beef"].reverse(),a=JSON.parse(JSON.stringify(e)),n=(a.water,Object(v.a)(a,["water"]));for(var c in n)n[c].forEach(function(e){var a=0;e.stacks=t.map(function(t){return{subject:t,y0:a,y1:a+=+e[t]}}),e.total=e.stacks[e.stacks.length-1].y1});return n}},{key:"calcWaterStacks",value:function(e){var t=["poultry","pork","mutton","beef"].reverse(),a=JSON.parse(JSON.stringify(e)),n=a.water,c=Object(v.a)(a,["water"]);for(var r in c)c[r].forEach(function(e){t.forEach(function(t){return e[t]*=+n[t]});var a=0;e.stacks=t.map(function(t){return{subject:t,y0:a,y1:a+=e[t]}}),e.total=e.stacks[e.stacks.length-1].y1});return c}},{key:"sortDataByCountry",value:function(e){var t=e.data,a=e.emojis,n={water:e.water};for(var c in t){var r={};for(var i in t[c])for(var o in t[c][i])r[o]?r[o][i]=t[c][i][o]:r[o]=Object(p.a)({name:o,emoji:a[o]},i,t[c][i][o]);n[c]=Object.values(r)}return n}},{key:"instantiateStarterObject",value:function(e){for(var t={emojis:{},data:{}},a=e[0];a<=e[1];)t.data[a]={beef:{},pork:{},poultry:{},mutton:{}},a+=1;return t}},{key:"updateYear",value:function(e){this.setState({year:e.value})}},{key:"updateSubject",value:function(e){var t=this.state.activeSubject;if(t){if(t){if(e!==t)return;this.setState({activeSubject:""}),document.querySelectorAll(".article").forEach(function(t){t.classList.contains(e)?t.classList.remove("active"):t.classList.remove("inactive")})}}else this.setState({activeSubject:e}),document.querySelectorAll(".article").forEach(function(t){t.classList.contains(e)?t.classList.add("active"):t.classList.add("inactive")})}},{key:"render",value:function(){if(!this.state.meat||!this.state.water)return"";var e=this.state,t=e.meat,a=e.year,n=e.emojis,r=e.water,i=e.activeSubject,o={top:50,right:20,bottom:50,left:60},s={width:700,height:380},l=Object.keys(n).reduce(function(e,t){return e[n[t]]=t,e},{}),u=Y;return c.a.createElement("div",{className:"content"},c.a.createElement(I,{years:Object.keys(t),updateYear:this.updateYear,defaultValue:a}),c.a.createElement(K,{svgDimensions:s,margins:o,data:t[a],emojis:n,maxValue:120,legendIcons:u,updateSubject:this.updateSubject,activeSubject:i,countryKey:l,title:"Global Meat Consumption (Kg Per Capita)"}),c.a.createElement(K,{svgDimensions:s,margins:o,data:r[a],emojis:n,maxValue:12e5,activeSubject:i,countryKey:l,title:"Water Footprint (Litres)"}))}}]),t}(c.a.Component),R=(a(64),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"app"},c.a.createElement(A,null),c.a.createElement(T,null),c.a.createElement(J,null))}}]),t}(c.a.Component)),T=function(){return c.a.createElement("div",{className:"navbar"},c.a.createElement("h1",{className:"title"},"High Water Steaks"),c.a.createElement("h2",{className:"subtitle"},"Data-Source: ",c.a.createElement("a",{href:"http://www.oecd.org/",target:"_blank",rel:"noopener nonreferrer"},"Organization for Economic Co-Operation and Development")," | ",c.a.createElement("a",{href:"https://www.worldwildlife.org/",target:"_blank",rel:"noopener nonreferrer"},"World Wildlife Foundation")))},_=R;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,2,1]]]);
//# sourceMappingURL=main.ec3136ff.chunk.js.map