{"version":3,"sources":["data/meat_consumption.csv","data/meat_water_cost.csv","components/tooltip.jsx","components/axis.jsx","components/axes.jsx","components/bar.jsx","components/stacked_bars.jsx","components/legend.jsx","components/bar_chart.jsx","components/selector_module.jsx","images/index.js","components/content.jsx","components/app.jsx","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","hideTooltip","document","querySelector","style","display","Tooltip","react_default","a","createElement","className","Axis","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleMouseOver","bind","assertThisInitialized","renderAxis","axisType","concat","orient","d3Axis","scale","tickSize","tickPadding","ticks","axis","select","axisElement","evt","tooltip","key","country","innerHTML","target","includes","split","reverse","join","replace","left","pageX","top","pageY","showAxisTooltip","countryKey","_this2","onMouseOver","onMouseLeave","ref","el","transform","translate","React","Component","axes","_ref","scales","svgDimensions","margins","height","width","xProps","xScale","bottom","yProps","yScale","right","axis_Axis","Bar","state","y","opacity","barRef","createRef","prevProps","prevState","bar","current","fadeOut","fadeIn","yearUpdated","transformBar","restoreBar","transition","duration","attr","on","setState","_this3","delay","_this4","_this5","ease","easeBounce","_this6","_this$state","_this$props","x","StackedBars","result","poultry","pork","mutton","beef","data","activeSubject","i","length","_loop","subject","subjectStack","stacks","filter","obj","emoji","y1","y0","bandwidth","calcOpacity","subjectActive","calcBarTransformation","push","components_bar","datum","baseStack","currentHeight","baseHeight","barGroups","createBarGroups","Legend","icons","updateSubject","iconMarkup","map","onClick","BarChart","scaleBand","scaleLinear","Math","max","apply","total","emojis","maxValue","title","legend","legendIcons","components_legend","padding","domain","values","rangeRound","range","stacked_bars","bar_chart_Title","Title","SelectorModule","years","updateYear","defaultValue","options","year","value","label","react_select_esm","classNamePrefix","autosize","placeholder","onChange","input","logos","chicken","pig","sheep","cow","Content","getData","then","parsedData","processedData","processData","meat","water","csv","consumption","consumptionData","waterData","yearRange","unsortedData","instantiateStarterObject","countries","location","parseInt","measure","countryName","name","toLowerCase","processedWaterData","forEach","MEAT","WATER","sorted","sortDataByCountry","calcMeatStacks","calcWaterStacks","sortedData","orderedSubjects","_JSON$parse","JSON","parse","stringify","clone","objectWithoutProperties","dataSet","_JSON$parse2","temp","defineProperty","yearRangeArray","currentYear","dropdownInput","currentSubject","querySelectorAll","node","classList","contains","remove","add","keys","reduce","iconUrls","selector_module","bar_chart","App","app_Navbar","content","Navbar","href","rel","Boolean","window","hostname","match","ReactDOM","render","app","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"4EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,iECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uUCWjC,SAASC,IACIC,SAASC,cAAc,YAC/BC,MAAMC,QAAU,OAO5B,IAIeC,EAJC,kBACZC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aChBEC,cAEjB,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,QACKI,gBAAkBP,EAAKO,gBAAgBC,KAArBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAFRA,mFAMfG,KAAKO,0DAILP,KAAKO,kDAIL,IAAMC,EAAQ,OAAAC,OAAUT,KAAKJ,MAAMc,QACtBC,EAAOH,KACjBI,MAAMZ,KAAKJ,MAAMgB,OACjBC,UAAUb,KAAKJ,MAAMiB,UACrBC,YAAY,CAAC,KACbC,MAAM,EAAG,IAGZC,CAFeC,YAAOjB,KAAKkB,sDAKfC,GACPnB,KAAKJ,MAAMwB,SD/BjB,SAAyBD,EAAKE,GACjC,IAamBC,EAbbF,EAAUlC,SAASC,cAAc,YAEvCiC,EAAQG,WAWWD,EAXeD,EAAIF,EAAIK,OAAOD,YAYlCE,SAAS,KAAOH,EAAQI,MAAM,KAAKC,UAAUC,OAAOC,QAAQ,IAAK,KAAOP,EAXvFF,EAAQhC,MAAMC,QAAU,eACxB+B,EAAQhC,MAAM0C,KAAOX,EAAIY,MAAQ,KACjCX,EAAQhC,MAAM4C,IAAMb,EAAIc,MAAQ,GAAK,KC2BjCC,CAAgBf,EADOnB,KAAKJ,MAApBuC,6CAIH,IAAAC,EAAApC,KACL,OACET,EAAAC,EAAAC,cAAA,KACE4C,YAAa,SAAClB,GAAD,OAASiB,EAAKhC,gBAAgBe,IAC3CmB,aAAcrD,EACdS,UAAS,aAAAe,OAAeT,KAAKJ,MAAMc,QACnC6B,IAAK,SAACC,GAASJ,EAAKlB,YAAcsB,GAClCC,UAAWzC,KAAKJ,MAAM8C,mBAxCAC,IAAMC,WCFxCC,EAAA,SAAeC,GAAoD,IAAjDC,EAAiDD,EAAjDC,OAAQC,EAAyCF,EAAzCE,cAAeC,EAA0BH,EAA1BG,QAASd,EAAiBW,EAAjBX,WACtCe,EAAkBF,EAAlBE,OAAQC,EAAUH,EAAVG,MAEVC,EAAS,CACX1C,OAAQ,SACRE,MAAOmC,EAAOM,OACdX,UAAS,eAAAjC,OAAiByC,EAASD,EAAQK,OAAlC,KACTzC,SAAUqC,EAASD,EAAQjB,IAAMiB,EAAQK,OACzClC,SAAS,EACTe,WAAYA,GAGVoB,EAAS,CACX7C,OAAQ,OACRE,MAAOmC,EAAOS,OACdd,UAAS,aAAAjC,OAAewC,EAAQnB,KAAvB,QACTjB,SAAUsC,EAAQF,EAAQnB,KAAOmB,EAAQQ,MACzCrC,SAAS,GAGb,OACI7B,EAAAC,EAAAC,cAAA,KAAGC,UAAU,QACXH,EAAAC,EAAAC,cAACiE,EAASN,GACV7D,EAAAC,EAAAC,cAACiE,EAASH,aC+ELI,qBAnGX,SAAAA,EAAY/D,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2D,IACf9D,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6D,GAAAxD,KAAAH,KAAMJ,KACDgE,MAAQ,CACTC,EAAGjE,EAAMiE,EACTC,QAASlE,EAAMkE,QACfZ,OAAQtD,EAAMsD,QAElBrD,EAAKkE,OAASpB,IAAMqB,YAPLnE,kFAUAoE,EAAWC,GAC1B,IAAIC,EAAMlD,YAAOjB,KAAK+D,OAAOK,SACzBpE,KAAKJ,MAAMkE,UAAYG,EAAUH,QACjC9D,KAAKJ,MAAMkE,QAAUG,EAAUH,QAAU9D,KAAKqE,QAAQF,GAAOnE,KAAKsE,OAAOH,GAClEnE,KAAKJ,MAAMiE,IAAMI,EAAUJ,GAAK7D,KAAKJ,MAAMsD,SAAWe,EAAUf,OACvElD,KAAKuE,YAAYJ,GACVnE,KAAKJ,MAAMiE,IAAMI,EAAUJ,IAClC7D,KAAKJ,MAAMiE,EAAII,EAAUJ,EAAI7D,KAAKwE,aAAaL,GAAOnE,KAAKyE,WAAWN,oCAItEA,GAAK,IAAA/B,EAAApC,KACTmE,EAAIO,aACHC,SAAS,KACTC,KAAK,UAAW5E,KAAKJ,MAAMkE,SAC3Be,GAAG,MAAO,kBACPzC,EAAK0C,SAAS,CACVhB,QAAS1B,EAAKxC,MAAMkE,2CAKzBK,GAAK,IAAAY,EAAA/E,KACRmE,EAAIO,aACHC,SAAS,KACTK,MAAM,KACNJ,KAAK,UAAW5E,KAAKJ,MAAMkE,SAC3Be,GAAG,MAAO,kBACPE,EAAKD,SAAS,CACVhB,QAASiB,EAAKnF,MAAMkE,gDAKpBK,GAAK,IAAAc,EAAAjF,KACbmE,EACCO,aACAC,SAAS,KACTC,KAAK,IAAK5E,KAAKJ,MAAMiE,GACrBa,aACAC,SAAS,KACTC,KAAK,SAAU5E,KAAKJ,MAAMsD,QAC1B2B,GAAG,MAAO,kBACXI,EAAKH,SAAS,CACV5B,OAAQ+B,EAAKrF,MAAMsD,OACnBW,EAAGoB,EAAKrF,MAAMiE,2CAITM,GAAK,IAAAe,EAAAlF,KACdmE,EAAIO,aACHS,KAAKC,KACLT,SAAS,KACTK,MAAM,KACNJ,KAAK,IAAK5E,KAAKJ,MAAMiE,GACrBgB,GAAG,MAAO,kBACPK,EAAKJ,SAAS,CACVjB,EAAGqB,EAAKtF,MAAMiE,yCAKfM,GAAK,IAAAkB,EAAArF,KACZmE,EAAIO,aACHC,SAAS,KACTC,KAAK,IAAK5E,KAAKJ,MAAMiE,GACrBgB,GAAG,MAAO,kBACPQ,EAAKP,SAAS,CACVjB,EAAGwB,EAAKzF,MAAMiE,uCAKjB,IAAAyB,EAC0BtF,KAAK4D,MAA5BC,EADHyB,EACGzB,EAAGC,EADNwB,EACMxB,QAASZ,EADfoC,EACepC,OADfqC,EAEgBvF,KAAKJ,MAAlB4F,EAFHD,EAEGC,EAAGrC,EAFNoC,EAEMpC,MACX,OACA5D,EAAAC,EAAAC,cAAA,QACI+F,EAAGA,EACH3B,EAAGA,EACHX,OAAQA,EACRC,MAAOA,EACPW,QAASA,EACTvB,IAAKvC,KAAK+D,gBA9FJpB,IAAMC,YC8FT6C,cA/FX,SAAAA,EAAY7F,GAAQ,OAAAE,OAAAC,EAAA,EAAAD,CAAAE,KAAAyF,GAAA3F,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2F,GAAAtF,KAAAH,KACVJ,mFAYN,IARc,IAAAC,EAAAG,KAKR0F,EAAS,CAACC,QAAW,GAAIC,KAAQ,GAAIC,OAAU,GAAIC,KAAQ,IALnDP,EAM0BvF,KAAKJ,MAArCmG,EANMR,EAMNQ,KAAMhD,EANAwC,EAMAxC,OAAQiD,EANRT,EAMQS,cACd3C,EAAmBN,EAAnBM,OAAQG,EAAWT,EAAXS,OACPyC,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAAK,KAAAE,EAAA,SACzBC,GACL,IAAIC,EAAeN,EAAKE,GAAGK,OAAOC,OAAO,SAAAC,GAAG,OAAIA,EAAIJ,UAAYA,IAAS,GACrEZ,EAAInC,EAAO0C,EAAKE,GAAGQ,OACnB5C,EAAIL,EAAO6C,EAAaK,IACxBxD,EAASM,EAAO6C,EAAaM,IAAMnD,EAAO6C,EAAaK,IACvDvD,EAAOE,EAAOuD,YACd9C,EAAUjE,EAAKgH,YAAYb,EAAeI,GAC1CvG,EAAKiH,cAAcV,EAASJ,KAC5BnC,EAAIhE,EAAKkH,sBAAsBhB,EAAKE,GAAII,IAE5CX,EAAOU,GAASY,KACZzH,EAAAC,EAAAC,cAACwH,EAAD,CACI5F,IAAG,GAAAZ,OAAK2F,EAAL,KAAA3F,OAAgBwF,GACnBT,EAAGA,EACH3B,EAAGA,EACHX,OAAQA,EACRC,MAAOA,EACPW,QAASA,MAjBrB,IAAK,IAAIsC,KAAWV,EAAQS,EAAnBC,GAuBb,OAAOV,wCAGGU,EAASJ,GAEnB,OAAQA,GAAmC,SAAlBA,GAA4BA,IAAkBI,sCAG/DJ,EAAeI,GACvB,OAAIJ,EACOA,IAAkBI,EAAU,IAAM,EAElC,kDAIOc,EAAOb,GACzB,IAAM7C,EAASxD,KAAKJ,MAAMmD,OAAOS,OAG7B2D,EAAYD,EAAMZ,OAAOC,OAAO,SAAAC,GAAG,MAAoB,SAAhBA,EAAIJ,UAAoB,GAC7DgB,EAAgB5D,EAAO6C,EAAaM,IAAMnD,EAAO6C,EAAaK,IAE9DW,GADW7D,EAAO6C,EAAaK,IAClBlD,EAAO2D,EAAUR,IAAMnD,EAAO2D,EAAUT,KAK3D,OAJclD,EAAO2D,EAAUT,KAEXU,EAAgBC,oCAMpC,IAAMC,EAAYtH,KAAKuH,kBAEvB,OACIhI,EAAAC,EAAAC,cAAA,KAAGC,UAAU,QACTH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,WACR4H,EAAS,SAEd/H,EAAAC,EAAAC,cAAA,KAAGC,UAAU,QACR4H,EAAS,MAEd/H,EAAAC,EAAAC,cAAA,KAAGC,UAAU,UACR4H,EAAS,QAEd/H,EAAAC,EAAAC,cAAA,KAAGC,UAAU,QACR4H,EAAS,cApFJ3E,IAAMC,WCkBjB4E,EAnBA,SAAA1E,GAA6CA,EAA1C2E,MAA0C,IAAnCzE,EAAmCF,EAAnCE,cAAe0E,EAAoB5E,EAApB4E,cAE5BvE,EAAUH,EAAVG,MAEFwE,EADW,CAAC,OAAS,SAAU,OAAQ,WAAWhG,UAC5BiG,IAAI,SAACxB,EAASH,GACtC,OACA1G,EAAAC,EAAAC,cAAA,KAAGoI,QAAS,kBAAMH,EAActB,IAAU/E,IAAG,GAAAZ,OAAK2F,EAAL,SAAqB3D,UAAS,eAAAhC,OAAiB,GAAS,GAAJwF,EAAtB,KAAiCvG,UAAW0G,EAAU,YAC7H7G,EAAAC,EAAAC,cAAA,QAAM+F,EAAGrC,EAAQ,GAAIA,MAAO,GAAID,OAAQ,KACxC3D,EAAAC,EAAAC,cAAA,QAAM+F,EAAGrC,EAAQ,GAAIU,EAAG,GAAIuC,MAIpC,OACI7G,EAAAC,EAAAC,cAAA,KAAGC,UAAU,SAAS+C,UAAS,oBAC1BkF,YCVPG,cACF,SAAAA,EAAYlI,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8H,IACfjI,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgI,GAAA3H,KAAAH,QACKqD,OAAS0E,cACdlI,EAAK2D,OAASwE,cAHCnI,4EAMNkG,GAET,OAAOkC,KAAKC,IAAIC,MAAMF,KAAMlC,EAAK6B,IAAI,SAAApB,GAAG,OAAIA,EAAI4B,0CAG3C,IAAA7C,EACuGvF,KAAKJ,MAAzGoD,EADHuC,EACGvC,cAAeC,EADlBsC,EACkBtC,QAAS8C,EAD3BR,EAC2BQ,KAAMsC,EADjC9C,EACiC8C,OAAQC,EADzC/C,EACyC+C,SAAUZ,EADnDnC,EACmDmC,cAAe1B,EADlET,EACkES,cAAe7D,EADjFoD,EACiFpD,WAAYoG,EAD7FhD,EAC6FgD,MAC5FC,EAASxI,KAAKJ,MAAM6I,YAAclJ,EAAAC,EAAAC,cAACiJ,EAAD,CAAQjB,MAAOzH,KAAKJ,MAAM6I,YAAazF,cAAeA,EAAe0E,cAAeA,IAAmB,GACzIrE,EAASrD,KAAKqD,OACHsF,QAAQ,IACRC,OAAO9I,OAAO+I,OAAOR,IACrBS,WAAW,CAAC7F,EAAQnB,KAAMkB,EAAcG,MAAQF,EAAQQ,QACnED,EAASxD,KAAKwD,OACHoF,OAAO,CAAC,EAAGN,IACXS,MAAM,CAAC/F,EAAcE,OAASD,EAAQK,OAAQL,EAAQjB,MACvE,OACIzC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAMyD,MAAOqF,EAASxF,EAAcG,MAAQ,GAAKH,EAAcG,MAAOD,OAAQF,EAAcE,QACvG3D,EAAAC,EAAAC,cAACoD,EAAD,CACIE,OAAQ,CAAEM,SAAQG,UAClBR,cAAeA,EACfC,QAASA,EACTd,WAAYA,IAEhB5C,EAAAC,EAAAC,cAACuJ,EAAD,CACIjG,OAAQ,CAAEM,SAAQG,UAClBuC,KAAMA,EACNC,cAAeA,IAElBwC,EACDjJ,EAAAC,EAAAC,cAACwJ,EAAD,CACIV,MAAOA,EACPvF,cAAeA,EACfC,QAASA,YAvCNN,IAAMC,WA8CvBsG,EAAQ,SAAApG,GAAuC,IAApCyF,EAAoCzF,EAApCyF,MAAOvF,EAA6BF,EAA7BE,cAAeC,EAAcH,EAAdG,QACnC,OAAQ1D,EAAAC,EAAAC,cAAA,QAAMC,UAAU,QAAQ8F,GAAIxC,EAAcG,MAAQF,EAAQjB,IAAMiB,EAAQK,QAAU,EAAIO,EAAiB,GAAdZ,EAAQjB,KAAYuG,IAG1GT,YClCAqB,EAnBQ,SAAArG,GAAwC,IAAtCsG,EAAsCtG,EAAtCsG,MAAOC,EAA+BvG,EAA/BuG,WAAYC,EAAmBxG,EAAnBwG,aAClCC,EAAUH,EAAMxB,IAAI,SAAA4B,GACtB,MAAO,CAAEC,MAAOD,EAAME,MAAK,GAAAjJ,OAAK+I,MAEpC,OACIjK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,EAAAC,cAACkK,EAAA,EAAD,CACAJ,QAASA,EACTD,aAAc,CAACG,MAAOH,EAAcI,MAAOJ,GAC3C5J,UAAU,eACVkK,gBAAgB,SAChBC,UAAU,EACVC,YAAY,oBACZC,SAAW,SAAAC,GAAK,OAAIX,EAAWW,QCT9BC,EAAQ,CACjBC,QAAS,yuFACTC,IAAK,k/EACLC,MAAO,o+JAEPC,IAAK,o1CCsOMC,cAnMX,SAAAA,IAAc,IAAAzK,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsK,IACVzK,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwK,GAAAnK,KAAAH,QACK4D,MAAQ,CACT4F,KAAM,OACNxD,cAAe,IAEnBnG,EAAKwJ,WAAaxJ,EAAKwJ,WAAWhJ,KAAhBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAClBA,EAAK6H,cAAgB7H,EAAK6H,cAAcrH,KAAnBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAPXA,mFAUM,IAAAuC,EAAApC,KAChBA,KAAKuK,UAAUC,KAAK,SAACC,GACjB,IAAMC,EAAgBtI,EAAKuI,YAAYF,GACvCrI,EAAK0C,SAAS,CAEV8F,KAAMF,EAAcE,KAEpBvC,OAAQoC,EAAWpC,OACnBwC,MAAOH,EAAcG,sLAOCC,YAAIC,mBAA5BC,kBACkBF,YAAID,YAI5B,IAJMI,SACAC,EAAY,CAAC,KAAM,MACnBC,EAAenL,KAAKoL,yBAAyBF,GAE1CjF,EAAI,EAAGA,EAAI+E,EAAgB9E,OAAQD,IAKc,qBAA3CoF,YAAUL,EAAgB/E,GAAGqF,WAA6BJ,EAAU,IAAMK,SAASP,EAAgB/E,GAAGuD,OAAwC,WAA/BwB,EAAgB/E,GAAGuF,UACrIC,EAAcJ,YAAUL,EAAgB/E,GAAGqF,UAAUI,KACzDP,EAAY,KAASH,EAAgB/E,GAAGuD,MAAMwB,EAAgB/E,GAAGG,QAAQuF,eAAeF,GAAeT,EAAgB/E,GAAGwD,MAE1H0B,EAAY,OAAW,CAACE,YAAUL,EAAgB/E,GAAGqF,UAAUI,OAASL,YAAUL,EAAgB/E,GAAGqF,UAAU7E,cAGjHmF,EAAqB,GAC3BX,EAAUY,QAAQ,SAAArF,GAAO,IACfsF,EAAgBtF,EAAhBsF,KAAMC,EAAUvF,EAAVuF,MACZH,EAAmBE,EAAKH,eAAiBI,IAE7CZ,EAAY,MAAYS,oBAEjBT,0IAGCA,GACR,IAAMa,EAAShM,KAAKiM,kBAAkBd,GAGtC,MAAO,CAACP,KAFS5K,KAAKkM,eAAeF,GAEbnB,MADN7K,KAAKmM,gBAAgBH,2CAI5BI,GACX,IAAMC,EAAkB,CAAC,UAAW,OAAQ,SAAU,QAAQ1K,UADvC2K,EAEKC,KAAKC,MAAMD,KAAKE,UAAUL,IAApCM,GAFKJ,EAEfzB,MAFe/K,OAAA6M,EAAA,EAAA7M,CAAAwM,EAAA,YAGvB,IAAK,IAAI9C,KAAQkD,EACbA,EAAMlD,GAAMqC,QAAQ,SAAAe,GAChB,IAAIjG,EAAK,EACTiG,EAAQtG,OAAS+F,EAAgBzE,IAAI,SAACxB,GAClC,MAAQ,CAAEA,QAASA,EAASO,GAAIA,EAAID,GAAIC,IAAOiG,EAAQxG,MAE3DwG,EAAQxE,MAAQwE,EAAQtG,OAAOsG,EAAQtG,OAAOJ,OAAS,GAAGQ,KAGlE,OAAOgG,0CAGKN,GACZ,IAAMC,EAAkB,CAAC,UAAW,OAAQ,SAAU,QAAQ1K,UADtCkL,EAEIN,KAAKC,MAAMD,KAAKE,UAAUL,IAA9CvB,EAFgBgC,EAEhBhC,MAAU6B,EAFM5M,OAAA6M,EAAA,EAAA7M,CAAA+M,EAAA,WAGxB,IAAK,IAAIrD,KAAQkD,EACbA,EAAMlD,GAAMqC,QAAQ,SAAAe,GAAaP,EAAgBR,QAAQ,SAACzF,GAAD,OAAawG,EAAQxG,KAAayE,EAAMzE,KAC7F,IAAIO,EAAK,EACTiG,EAAQtG,OAAS+F,EAAgBzE,IAAI,SAACxB,GAClC,MAAQ,CAAEA,QAASA,EAASO,GAAIA,EAAID,GAAIC,GAAMiG,EAAQxG,MAE1DwG,EAAQxE,MAAQwE,EAAQtG,OAAOsG,EAAQtG,OAAOJ,OAAS,GAAGQ,KAGlE,OAAOgG,4CAGOvB,GAAc,IACpBpF,EAAwBoF,EAAxBpF,KAAMsC,EAAkB8C,EAAlB9C,OACR3C,EAAS,CAACmF,MADgBM,EAAVN,OAGtB,IAAK,IAAIrB,KAAQzD,EAAM,CACnB,IAAI+G,EAAO,GACX,IAAK,IAAI1G,KAAWL,EAAKyD,GACrB,IAAK,IAAIlI,KAAWyE,EAAKyD,GAAMpD,GACvB0G,EAAKxL,GACLwL,EAAKxL,GAAS8E,GAAWL,EAAKyD,GAAMpD,GAAS9E,GAG7CwL,EAAKxL,GAALxB,OAAAiN,EAAA,EAAAjN,CAAA,CAAiB4L,KAAMpK,EAASmF,MAAO4B,EAAO/G,IAAW8E,EAAUL,EAAKyD,GAAMpD,GAAS9E,IAInGoE,EAAO8D,GAAQ1J,OAAO+I,OAAOiE,GAEjC,OAAOpH,mDAGcsH,GAIrB,IAFA,IAAMtH,EAAS,CAAC2C,OAAU,GAAItC,KAAQ,IAClCkH,EAAcD,EAAe,GAC1BC,GAAeD,EAAe,IACjCtH,EAAM,KAASuH,GAAe,CAACnH,KAAQ,GAAIF,KAAQ,GAAID,QAAW,GAAIE,OAAU,IAChFoH,GAAe,EAEnB,OAAOvH,qCAGAwH,GACPlN,KAAK8E,SAAS,CACV0E,KAAM0D,EAAczD,8CAIdrD,GACV,IAAI+G,EAAiBnN,KAAK4D,MAAMoC,cAChC,GAAKmH,GAKE,GAAIA,EAAgB,CACvB,GAAI/G,IAAY+G,EAAgB,OAChCnN,KAAK8E,SAAS,CAAEkB,cAAe,KAC/B9G,SAASkO,iBAAiB,YAAYvB,QAAQ,SAAAwB,GAC1CA,EAAKC,UAAUC,SAASnH,GAAWiH,EAAKC,UAAUE,OAAO,UAAYH,EAAKC,UAAUE,OAAO,oBAR/FxN,KAAK8E,SAAS,CAAEkB,cAAeI,IAC/BlH,SAASkO,iBAAiB,YAAYvB,QAAQ,SAAAwB,GAC1CA,EAAKC,UAAUC,SAASnH,GAAWiH,EAAKC,UAAUG,IAAI,UAAYJ,EAAKC,UAAUG,IAAI,+CAY7F,IAAKzN,KAAK4D,MAAMgH,OAAS5K,KAAK4D,MAAMiH,MAAO,MAAO,GAD7C,IAAAvF,EAEgDtF,KAAK4D,MAAlDgH,EAFHtF,EAEGsF,KAAMpB,EAFTlE,EAESkE,KAAMnB,EAFf/C,EAEe+C,OAAQwC,EAFvBvF,EAEuBuF,MAAO7E,EAF9BV,EAE8BU,cAC7B/C,EAAU,CAACjB,IAAK,GAAIyB,MAAO,GAAIH,OAAQ,GAAIxB,KAAM,IACjDkB,EAAgB,CAACG,MAAO,IAAKD,OAAQ,KAKrCf,EAAarC,OAAO4N,KAAKrF,GAAQsF,OAAO,SAASnH,EAAInF,GAEnD,OADAmF,EAAK6B,EAAOhH,IAASA,EACdmF,GACL,IAEJoH,EAAW3D,EAEjB,OACI1K,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACXH,EAAAC,EAAAC,cAACoO,EAAD,CACIzE,MAAOtJ,OAAO4N,KAAK9C,GACnBvB,WAAYrJ,KAAKqJ,WACjBC,aAAcE,IAElBjK,EAAAC,EAAAC,cAACqO,EAAD,CACI9K,cAAeA,EACfC,QAASA,EACT8C,KAAM6E,EAAKpB,GACXnB,OAAQA,EACRC,SAvBO,IAwBPG,YAAamF,EACblG,cAAe1H,KAAK0H,cACpB1B,cAAeA,EACf7D,WAAYA,EACZoG,MA1BM,4CA6BVhJ,EAAAC,EAAAC,cAACqO,EAAD,CACI9K,cAAeA,EACfC,QAASA,EACT8C,KAAM8E,EAAMrB,GACZnB,OAAQA,EACRC,SAnCQ,KAoCRtC,cAAeA,EACf7D,WAAYA,EACZoG,MApCO,qCAxJL5F,IAAMC,WCzCtBmL,0LAEF,OACAxO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAC2B,EAAD,MACA7B,EAAAC,EAAAC,cAACuO,EAAD,MACAzO,EAAAC,EAAAC,cAACwO,EAAD,cANYtL,IAAMC,YAYlBsL,EAAS,kBACb3O,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,qBACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YAAd,gBAAsCH,EAAAC,EAAAC,cAAA,KAAG0O,KAAK,uBAAuB3M,OAAO,SAAS4M,IAAI,wBAAnD,0DAAtC,MAA6K7O,EAAAC,EAAAC,cAAA,KAAG0O,KAAK,iCAAiC3M,OAAO,SAAS4M,IAAI,wBAA7D,gCAIlKL,ICZKM,QACW,cAA7BC,OAAOhD,SAASiD,UAEe,UAA7BD,OAAOhD,SAASiD,UAEhBD,OAAOhD,SAASiD,SAASC,MACvB,2DCbNC,IAASC,OAAOnP,EAAAC,EAAAC,cAACkP,EAAD,MAASzP,SAAS0P,eAAe,SD4H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMvE,KAAK,SAAAwE,GACjCA,EAAaC","file":"static/js/main.ec3136ff.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/meat_consumption.4e3b16ba.csv\";","module.exports = __webpack_public_path__ + \"static/media/meat_water_cost.003338b1.csv\";","import React from 'react';\n\nexport function showAxisTooltip(evt, key) {\n    const tooltip = document.querySelector('.tooltip');\n\n    tooltip.innerHTML = formatCountry(key[evt.target.innerHTML]);\n    tooltip.style.display = 'inline-block';\n    tooltip.style.left = evt.pageX + 'px';\n    tooltip.style.top = evt.pageY + 15 + 'px';\n}\n  \nexport function hideTooltip() {\n    const tooltip = document.querySelector('.tooltip');\n    tooltip.style.display = 'none';\n}\n\nfunction formatCountry(country) {\n    return country.includes(\",\") ? country.split(\",\").reverse().join().replace(\",\", \" \") : country\n}\n\nconst Tooltip = () => (\n    <div className='tooltip'></div>\n)\n\nexport default Tooltip;","import React from 'react';\nimport { select } from 'd3-selection';\nimport * as d3Axis from 'd3-axis';\nimport { showAxisTooltip, hideTooltip } from './tooltip';\n\nexport default class Axis extends React.Component {\n    // Have to refactor tooltip or decide another function to use cause this one is whackkk\n    constructor(props) {\n        super();\n        this.handleMouseOver = this.handleMouseOver.bind(this);\n    }\n\n    componentDidMount() {\n        this.renderAxis()\n    }\n    \n    componentDidUpdate() {\n        this.renderAxis()\n    }\n\n    renderAxis() {\n        const axisType = `axis${this.props.orient}`\n        const axis = d3Axis[axisType]()\n          .scale(this.props.scale)\n          .tickSize(-this.props.tickSize)\n          .tickPadding([18])\n          .ticks(4, \"s\")\n        const axisEl = select(this.axisElement);\n    \n        axis(axisEl);\n    }\n\n    handleMouseOver(evt) {\n        if (!this.props.tooltip) return;\n        const { countryKey } = this.props;\n        showAxisTooltip(evt, countryKey);\n    }\n\n    render() {\n        return (\n          <g\n            onMouseOver={(evt) => this.handleMouseOver(evt)}\n            onMouseLeave={hideTooltip}\n            className={`Axis Axis-${this.props.orient}`}\n            ref={(el) => { this.axisElement = el; }}\n            transform={this.props.translate}\n          />\n        )\n    }\n\n}","import React from 'react';\nimport Axis from './axis';\n\nexport default ({ scales, svgDimensions, margins, countryKey }) => {\n    const { height, width } = svgDimensions;\n\n    const xProps = {\n        orient: 'Bottom',\n        scale: scales.xScale,\n        translate: `translate(0,${height - margins.bottom})`,\n        tickSize: height - margins.top - margins.bottom,\n        tooltip: true,\n        countryKey: countryKey\n\n      }\n    const yProps = {\n        orient: 'Left',\n        scale: scales.yScale,\n        translate: `translate(${margins.left}, 0)`,\n        tickSize: width - margins.left - margins.right,\n        tooltip: false\n      }\n    \n    return (\n        <g className=\"axes\">\n          <Axis {...xProps} />\n          <Axis {...yProps} />\n        </g>\n      )\n}","import React from 'react';\nimport { select } from 'd3-selection';\nimport { easeBounce } from 'd3-ease'\nimport 'd3-transition';\n\nclass Bar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            y: props.y,\n            opacity: props.opacity,\n            height: props.height\n        }\n        this.barRef = React.createRef();\n    }\n    \n    componentDidUpdate(prevProps, prevState) {\n        let bar = select(this.barRef.current);\n        if (this.props.opacity !== prevProps.opacity) {\n            this.props.opacity < prevProps.opacity ? this.fadeOut(bar) : this.fadeIn(bar)\n        } else if (this.props.y !== prevProps.y && this.props.height !== prevProps.height) {\n            this.yearUpdated(bar);\n        } else if (this.props.y !== prevProps.y) {\n            this.props.y > prevProps.y ? this.transformBar(bar) : this.restoreBar(bar)\n        }\n    }\n\n    fadeOut(bar) {\n        bar.transition()\n        .duration(1000)\n        .attr(\"opacity\", this.props.opacity)\n        .on(\"end\", () => \n            this.setState({\n                opacity: this.props.opacity\n            })\n        )\n    }\n\n    fadeIn(bar) {\n        bar.transition()\n        .duration(1000)\n        .delay(750)\n        .attr(\"opacity\", this.props.opacity)\n        .on(\"end\", () => \n            this.setState({\n                opacity: this.props.opacity\n            })\n        )\n    }\n\n    yearUpdated(bar) {\n        bar\n        .transition()\n        .duration(300)\n        .attr(\"y\", this.props.y)\n        .transition()\n        .duration(300)\n        .attr(\"height\", this.props.height)\n        .on(\"end\", () => \n        this.setState({\n            height: this.props.height,\n            y: this.props.y\n        }))\n    }\n\n    transformBar(bar) {\n        bar.transition()\n        .ease(easeBounce)\n        .duration(1000)\n        .delay(850)\n        .attr(\"y\", this.props.y)\n        .on(\"end\", () => \n            this.setState({\n                y: this.props.y\n            })\n        );\n    }\n\n    restoreBar(bar) {\n        bar.transition()\n        .duration(1000)\n        .attr(\"y\", this.props.y)\n        .on(\"end\", () => \n            this.setState({\n                y: this.props.y\n            })\n        );\n    }\n\n    render() {\n        const { y, opacity, height } = this.state;\n        const { x, width } = this.props;\n        return (\n        <rect\n            x={x}\n            y={y}\n            height={height}\n            width={width}\n            opacity={opacity}\n            ref={this.barRef}\n        />\n        )\n    }\n}\n\nexport default Bar;\n","import React from 'react';\nimport Bar from './bar';\n\nclass StackedBars extends React.Component {\n    constructor(props) {\n        super(props);\n        // this.colorScale = scaleLinear\n    }\n\n    createBarGroups() {\n        // For each country, we are:\n            // -extracting the stack calcs for each subject\n            // -putting them to scale\n            // -passing them to the Bar component to track its own position\n        const result = {'poultry': [], 'pork': [], 'mutton': [], 'beef': []};\n        const { data, scales, activeSubject } = this.props;\n        const { xScale, yScale } = scales; \n        for (let i = 0; i < data.length; i++) {\n            for (let subject in result) {\n                let subjectStack = data[i].stacks.filter(obj => obj.subject === subject)[0];\n                let x = xScale(data[i].emoji),\n                    y = yScale(subjectStack.y1),\n                    height = yScale(subjectStack.y0) - yScale(subjectStack.y1),\n                    width= xScale.bandwidth(),\n                    opacity = this.calcOpacity(activeSubject, subject);\n                if (this.subjectActive(subject, activeSubject)) {\n                    y = this.calcBarTransformation(data[i], subjectStack);\n                }\n                result[subject].push(\n                    <Bar\n                        key={`${subject}-${i}`}\n                        x={x}\n                        y={y}\n                        height={height}\n                        width={width}\n                        opacity={opacity}\n                    />\n                )\n            }\n\n        }\n        return result\n    }\n\n    subjectActive(subject, activeSubject) {\n        // Poultry is on the base of the graph and does not require tranformations\n        return (activeSubject && activeSubject !== 'beef' && activeSubject === subject)\n    }\n\n    calcOpacity(activeSubject, subject) {\n        if (activeSubject) {\n            return activeSubject === subject ? 100 : 0;\n        } else {\n            return 100;\n        }\n    }\n\n    calcBarTransformation(datum, subjectStack) {\n        const yScale = this.props.scales.yScale;\n        // In order to calculate the new position, we are calculating it from the bottom-most\n        // bar in our stack, which is always poultry!\n        let baseStack = datum.stacks.filter(obj => obj.subject === 'beef')[0],\n              currentHeight = yScale(subjectStack.y0) - yScale(subjectStack.y1),\n              currentY = yScale(subjectStack.y1),\n              baseHeight = yScale(baseStack.y0) - yScale(baseStack.y1),\n              baseY = yScale(baseStack.y1);\n        \n        const heightShift = currentHeight - baseHeight;\n        const updatedY = baseY - heightShift;\n        return updatedY;\n    }\n\n    render() {\n        const barGroups = this.createBarGroups();\n\n        return (\n            <g className='bars'>\n                <g className='poultry'>\n                    {barGroups['poultry']}\n                </g>\n                <g className='pork'>\n                    {barGroups['pork']}\n                </g>\n                <g className='mutton'>\n                    {barGroups['mutton']}\n                </g>\n                <g className='beef'>\n                    {barGroups['beef']}\n                </g>\n\n            </g>\n        )\n\n    }\n\n\n\n}\n\nexport default StackedBars;","import React from 'react';\n\nconst Legend = ({ icons, svgDimensions, updateSubject }) => {\n    // no longer using icons, keeping data here for fickleness\n    const { width } = svgDimensions;\n    const subjects = [\"beef\",  \"mutton\", \"pork\", \"poultry\"].reverse()\n    const iconMarkup = subjects.map((subject, i) => {\n        return (\n        <g onClick={() => updateSubject(subject)} key={`${subject}-icon`} transform={`translate(0,${10 + i * 20})`} className={subject + \" article\"} >\n            <rect x={width - 24} width={12} height={12} />\n            <text x={width - 32} y={9}>{subject}</text>\n        </g>\n        )\n    })\n    return (\n        <g className=\"legend\" transform={`translate(60, 0)`}>\n            {iconMarkup}\n        </g>\n    )\n}\n\nexport default Legend;","import React from 'react';\nimport Axes from './axes';\nimport StackedBars from './stacked_bars';\nimport Legend from './legend'\nimport { scaleBand, scaleLinear } from 'd3-scale';\n\nclass BarChart extends React.Component {\n    constructor(props) {\n        super();\n        this.xScale = scaleBand();\n        this.yScale = scaleLinear();\n    }\n\n    findMaxValue(data) {\n        // https://stackoverflow.com/questions/4020796/finding-the-max-value-of-an-attribute-in-an-array-of-objects\n        return Math.max.apply(Math, data.map(obj => obj.total ));\n    }\n\n    render() {\n        const { svgDimensions, margins, data, emojis, maxValue, updateSubject, activeSubject, countryKey, title } = this.props;\n        const legend = this.props.legendIcons ? <Legend icons={this.props.legendIcons} svgDimensions={svgDimensions} updateSubject={updateSubject}/> : \"\"\n        const xScale = this.xScale\n                        .padding(0.5)\n                        .domain(Object.values(emojis))\n                        .rangeRound([margins.left, svgDimensions.width - margins.right]);\n        const yScale = this.yScale\n                        .domain([0, maxValue])\n                        .range([svgDimensions.height - margins.bottom, margins.top]);\n        return (\n            <svg className=\"vis\" width={legend ? svgDimensions.width + 50 : svgDimensions.width} height={svgDimensions.height} >\n                <Axes\n                    scales={{ xScale, yScale }}\n                    svgDimensions={svgDimensions}\n                    margins={margins}\n                    countryKey={countryKey}\n                />\n                <StackedBars\n                    scales={{ xScale, yScale }}\n                    data={data}\n                    activeSubject={activeSubject}\n                />\n                {legend}\n                <Title\n                    title={title}\n                    svgDimensions={svgDimensions}\n                    margins={margins}\n                />\n            </svg>\n        )\n    }\n}\n\nconst Title = ({ title, svgDimensions, margins }) => {\n    return (<text className=\"title\" x={(svgDimensions.width - margins.top - margins.bottom) / 2 } y={margins.top * 0.4}>{title}</text>)\n}\n\nexport default BarChart;","import React from 'react';\nimport Select from 'react-select';\n\nconst SelectorModule = ({years, updateYear, defaultValue }) => {\n    const options = years.map(year => {\n        return { value: year, label: `${year}` }\n    })\n    return (\n        <div className='selector module'>\n            <Select\n            options={options}\n            defaultValue={{value: defaultValue, label: defaultValue}}\n            className='basic-single'\n            classNamePrefix='select'\n            autosize={false}\n            placeholder='Select overlay...'\n            onChange={ input => updateYear(input) }\n            />\n        </div>\n    )\n}\n\nexport default SelectorModule;","// export const logos = {\n//     chicken: require(\"./chicken.svg\"),\n//     pig: require(\"./pig.svg\"),\n//     sheep: require(\"./sheep.svg\"),\n//     cow: require(\"./cow.svg\")\n// }\n\nexport const logos = {\n    chicken: \"m417.164062 144.601562h-33.542968c-.234375-2.425781-.59375-4.8125-1.066406-7.15625 1.125-.5625 2.335937-1.167968 3.601562-1.800781 18.472656-9.234375 29.941406-27.800781 29.941406-48.472656 0-25.320313-22.109375-46.9375-49.402344-43.5-5.304687-24.917969-27.488281-43.671875-53.980468-43.671875-26.476563 0-48.652344 18.75-53.945313 43.671875-27.136719-3.429687-49.402343 18-49.402343 43.515625 0 20.65625 11.472656 39.226562 29.953124 48.464844 1.265626.628906 2.46875 1.230468 3.589844 1.792968-.921875 4.566407-1.410156 9.289063-1.410156 14.121094v16.132813c0 22.699219-18.472656 41.167969-41.167969 41.167969h-68.382812l-109.007813-62.289063c-9.984375-5.710937-22.441406 1.523437-22.441406 13.023437v25.480469c0 18.65625 7.265625 36.199219 20.460938 49.390625l11.574218 11.578125c.0625.058594.097656.148438.097656.234375v9.714844c0 87.042969 63.636719 159.488281 146.828126 173.285156l10.542968 52.714844h-13.839844c-8.28125 0-15 6.714844-15 15s6.71875 15 15 15h96.402344c8.285156 0 15-6.714844 15-15s-6.714844-15-15-15h-51.96875l-10.074218-50.359375c95.839843-1.199219 173.441406-79.519531 173.441406-175.640625v-81.398438h33.199218c8.285157 0 15-6.71875 15-15 0-8.285156-6.714843-15-15-15zm-164.441406-35.789062c-8.238281-4.121094-13.355468-12.40625-13.355468-21.640625 0-4.441406 2.148437-8.644531 5.761718-11.242187 3.601563-2.597657 8.261719-3.3125 12.46875-1.90625 5.976563 1.996093 10.234375 3.410156 10.234375 3.410156 4.570313 1.519531 9.597657.753906 13.507813-2.066406 3.910156-2.820313 6.226562-7.347657 6.226562-12.167969v-8.046875c0-13.871094 11.28125-25.152344 25.167969-25.152344 13.875 0 25.164063 11.289062 25.164063 25.167969v8.03125c0 4.820312 2.316406 9.347656 6.226562 12.167969 3.910156 2.820312 8.9375 3.585937 13.511719 2.066406 0 0 4.253906-1.417969 10.226562-3.410156 4.210938-1.402344 8.875-.691407 12.484375 1.910156 3.601563 2.59375 5.753906 6.796875 5.753906 11.253906 0 9.21875-5.117187 17.503906-13.34375 21.617188-.78125.390624-1.539062.765624-2.273437 1.132812-12.949219-17.914062-34.003906-29.605469-57.75-29.605469s-44.800781 11.691407-57.75 29.605469c-.730469-.363281-1.484375-.738281-2.261719-1.125zm101.242188 147.1875c0 80.320312-65.34375 145.667969-145.664063 145.667969-80.324219 0-145.667969-65.347657-145.667969-145.667969v-9.714844c0-7.984375-3.238281-15.804687-8.886718-21.449218l-11.574219-11.578126c-7.441406-7.4375-11.578125-17.304687-11.671875-27.808593l82.820312 47.324219c4.546876 57.277343 52.605469 102.492187 111.03125 102.492187h32.148438c8.28125 0 15-6.714844 15-15s-6.71875-15-15-15h-32.148438c-39.757812 0-72.921874-28.660156-79.980468-66.398437h55.957031c39.304687 0 71.171875-31.800782 71.171875-71.171876v-16.128906c0-22.738281 18.496094-41.234375 41.230469-41.234375 22.738281 0 41.234375 18.496094 41.234375 41.234375zm0 0\",\n    pig: \"m3.761719 159.28125 107.726562 67.328125-15.359375 84.457031c-.425781 2.335938.207032 4.738282 1.726563 6.558594 1.523437 1.820312 3.773437 2.875 6.144531 2.875h32c2.90625-.003906 5.582031-1.578125 6.992188-4.121094l31.945312-57.480468c1.523438-2.765626 2.859375-5.632813 4-8.582032 22.207031 3.710938 44.683594 5.585938 67.199219 5.597656 36.921875-.007812 73.675781-4.984374 109.269531-14.789062 7.320312 4.308594 15.347656 7.285156 23.707031 8.796875l28 5.089844-7.066406 56.496093c-.285156 2.277344.425781 4.570313 1.945313 6.292969 1.523437 1.71875 3.710937 2.703125 6.007812 2.699219h40c3.671875 0 6.871094-2.503906 7.761719-6.066406l24-96c.816406-3.277344-.511719-6.714844-3.320313-8.589844l-20.441406-13.625v-91.71875c-.066406-57.410156-46.589844-103.933594-104-104h-296c-4.417969 0-8 3.582031-8 8-.054688 16.675781 7.457031 32.480469 20.425781 42.96875-2.035156 3.417969-3.878906 6.949219-5.523437 10.574219l-9.597656 26.542969c-1.980469 5.4375-6.742188 9.378906-12.449219 10.3125l-34.175781 5.695312c-3.859376.648438-6.6875005 3.992188-6.679688 7.90625v40c0 2.757812 1.421875 5.320312 3.761719 6.78125zm12.238281-40 27.488281-4.582031c11.386719-1.90625 20.863281-9.796875 24.800781-20.648438l9.398438-25.960937c1.339844-2.902344 2.832031-5.734375 4.472656-8.480469l.984375.441406c15.535157 6.949219 33.511719 5.683594 47.917969-3.375.28125-.167969.546875-.351562.800781-.550781l9.167969-7.378906-10.03125-12.464844-8.800781 7.058594c-9.832031 6.015625-21.996094 6.804687-32.519531 2.101562l-3.457032-1.542968c-11.148437-5.132813-19.132812-15.339844-21.421875-27.398438h87.648438v.160156c1.773437-.109375 3.5625-.160156 5.359375-.160156h194.191406c48.578125.054688 87.941406 39.421875 88 88v12c0 6.625-5.371094 12-12 12s-12-5.375-12-12c0-15.464844-12.535156-28-28-28h-12v16h12c6.628906 0 12 5.371094 12 12 0 15.464844 12.535156 28 28 28 4.160156-.023438 8.261719-.984375 12-2.808594v58.808594c0 2.671875 1.335938 5.171875 3.558594 6.65625l19.3125 12.871094-21.117188 84.472656h-24.691406l6.875-55.007812c.519531-4.210938-2.332031-8.097657-6.503906-8.855469l-35.449219-6.449219c-26.632813-4.839844-45.988281-28.035156-45.984375-55.105469v-2.582031h-16v2.582031c-.003906 18.4375 7.082031 36.167969 19.792969 49.519531-51.308594 12.457032-104.585938 14.535157-156.703125 6.113282.578125-3.570313.882812-7.179688.910156-10.800782v-47.414062h-16v47.414062c-.007812 9.519532-2.433594 18.878907-7.046875 27.199219l-29.65625 53.386719h-17.695313l14.285157-78.570312c.082031-.472657.121093-.949219.113281-1.429688v-48h-16v31.566406l-96-60zm0 0\",\n    sheep: \"m375.996094 56.5h-188.6875l-20.472656-20.472656c.734374-2.441406 1.125-4.976563 1.160156-7.527344 0-15.464844-12.535156-28-28-28h-70.742188c-10.613281-.027344-20.796875 4.195312-28.28125 11.71875l-30.34375 30.34375c-10.378906 10.378906-13.484375 25.984375-7.867187 39.542969 5.617187 13.554687 18.847656 22.394531 33.523437 22.394531h27.710938v109.601562c.089844 18.171876 7.460937 35.554688 20.464844 48.253907 3.5 3.386719 7.371093 6.375 11.535156 8.902343v89.242188c0 4.417969 3.582031 8 8 8h32c3.980468 0 7.355468-2.925781 7.921875-6.863281l12.550781-87.890625.175781-.09375c1.445313-.738282 2.859375-1.535156 4.246094-2.402344l.441406-.261719c3.132813-1.90625 6.09375-4.078125 8.855469-6.488281h203.511719c.273437.230469.5625.429688.800781.65625.855469.734375 1.746094 1.421875 2.648438 2.113281.742187.566407 1.488281 1.148438 2.265624 1.6875 1.007813.703125 2.046876 1.351563 3.101563 2 .703125.4375 1.410156.886719 2.136719 1.300781 1.160156.65625 2.398437 1.242188 3.566406 1.824219.671875.320313 1.328125.671875 2.007812.96875 1.25.554688 2.539063 1.03125 3.832032 1.503907.691406.257812 1.371094.527343 2.066406.761718 1.230469.398438 2.503906.726563 3.765625 1.054688.800781.214844 1.601563.449218 2.402344.632812 1.113281.238282 2.246093.40625 3.382812.589844.472657.082031.945313.1875 1.417969.257812l16.183594 25.871094-15.023438 52.585938c-.691406 2.421875-.199218 5.027344 1.324219 7.03125s3.898437 3.175781 6.417969 3.160156h40c3.570312-.003906 6.710937-2.375 7.6875-5.808594l16-56c.476562-1.644531.410156-3.402344-.191406-5.007812l-16.113282-42.945313c10.730469-12.265625 16.636719-28.015625 16.617188-44.3125v-53.925781c-.066406-57.410156-46.589844-103.933594-104-104zm-339.710938 32c-8.207031.003906-15.605468-4.9375-18.746094-12.519531-3.136718-7.578125-1.402343-16.304688 4.402344-22.105469l30.34375-30.34375c4.308594-4.257812 10.0625-6.738281 16.121094-6.945312-2.855469 4.820312-4.378906 10.3125-4.410156 15.914062v56zm92.800782 264h-17.089844v-74.214844c.121094 0 .242187.039063.351562.070313 2.570313.703125 5.183594 1.238281 7.824219 1.601562l.746094.109375c2.347656.285156 4.710937.429688 7.078125.433594h1.503906c1.199219 0 2.398438-.144531 3.566406-.242188.585938-.046874 1.179688-.054687 1.753906-.117187 1.382813-.152344 2.753907-.386719 4.121094-.625.183594 0 .367188 0 .550782-.054687zm320.902343 0h-23.359375l13.078125-45.808594c.621094-2.164062.292969-4.492187-.902343-6.398437l-12.800782-20.53125c.214844 0 .425782-.09375.640625-.132813 1-.167968 1.96875-.410156 2.953125-.632812 1.132813-.25 2.277344-.464844 3.390625-.800782.238281-.0625.464844-.160156.695313-.230468 3.355468-.988282 6.617187-2.261719 9.753906-3.808594.261719-.136719.542969-.234375.800781-.367188 1.09375-.5625 2.148438-1.210937 3.199219-1.832031.800781-.464843 1.597656-.914062 2.398438-1.417969.25-.160156.511718-.289062.761718-.457031l13.039063 34.761719zm14.007813-138.074219c.035156 13.789063-5.5 27.007813-15.351563 36.65625l-.089843.074219c-1.875 1.8125-3.890626 3.472656-6.03125 4.96875-.207032.144531-.40625.292969-.625.4375-1.941407 1.308594-3.976563 2.472656-6.09375 3.472656-.441407.207032-.886719.410156-1.34375.609375-2.074219.914063-4.214844 1.667969-6.402344 2.253907-.398438.105468-.796875.183593-1.230469.289062-2.347656.582031-4.742187.972656-7.152344 1.167969-1.207031.089843-2.398437.082031-3.609375.082031-1.207031 0-2.316406-.058594-3.628906-.144531h-.050781c-.726563-.058594-1.453125-.097657-2.183594-.183594-.726563-.089844-1.375-.203125-2.0625-.320313-.984375-.160156-1.96875-.335937-2.9375-.5625-.589844-.144531-1.183594-.304687-1.765625-.464843-1.03125-.277344-2.050781-.582031-3.058594-.933594-.53125-.1875-1.066406-.378906-1.597656-.578125-1.023438-.390625-2.03125-.796875-3.023438-1.285156-.496093-.234375-.992187-.472656-1.480468-.722656-.984375-.496094-1.9375-1.039063-2.882813-1.597657-.46875-.289062-.949219-.5625-1.40625-.855469-.9375-.609374-1.847656-1.265624-2.742187-1.9375-.417969-.320312-.851563-.617187-1.265625-.945312-.976563-.796875-1.902344-1.597656-2.824219-2.488281-9.667969-9.039063-15.15625-21.683594-15.160156-34.917969v-8h-16v8c.003906 11.246094 2.988281 22.289062 8.65625 32h-177.3125c5.667968-9.710938 8.65625-20.753906 8.65625-32v-24h-16v24c.007812 12.78125-5.101563 25.03125-14.183594 34.023438-.121094.105468-.28125.144531-.390625.257812-6.648437 6.171875-14.769531 10.535156-23.585937 12.671875-2.667969.550781-5.378907.875-8.105469.957031-.351563 0-.710938.050782-1.070313.058594-1.601562.027344-3.203125-.035156-4.800781-.191406-.304687 0-.605469-.082032-.917969-.121094-1.523437-.171875-3.035156-.421875-4.527344-.761719l-.523437-.125c-3.566406-.859375-7.015625-2.140625-10.277344-3.816406-.183593-.089844-.386719-.121094-.570312-.203125-4.179688-2.222656-8.019531-5.035156-11.398438-8.351562-9.929687-9.679688-15.566406-22.933594-15.648437-36.796876v-181.601562c0-8.835938 7.164062-16 16-16h44c6.628906 0 12 5.371094 12 12s-5.371094 12-12 12h-28v16h28c6.601562-.027344 12.972656-2.40625 17.976562-6.710938l20.367188 20.367188c1.5 1.5 3.535156 2.34375 5.65625 2.34375h192c48.578125.058594 87.941406 39.421875 88 88zm0 0\",\n    // cow: \"M452.3,81.6H179.2v0.3l-14.9-5.7c-15.3-6.3-32.7-4.5-46.3,4.5l-22.2-7.4c-13.3-3.1-27-0.3-38,7C50.6,75.5,42,72.9,33.5,73h-25C3.8,73,0,76.9,0,81.6c0,16.1,2.4,35.9,22,46.4l2.5,1.2L4.6,165c-3,5.3-4.6,11.4-4.6,17.6c0.1,19.5,16,35.4,35.5,35.5h49.2c2.6,0,5,1.2,6.6,3.2l60.3,74.3c1.2,1.5,1.9,3.4,1.9,5.4v130.5c0,4.7,3.8,8.5,8.5,8.5h34.1c4.1,0,7.6-2.9,8.4-6.9l22.7-114.4c0.9-4,4.5-6.9,8.7-6.7h187.1l20,20L426.8,430c-0.4,2.5,0.3,5,1.9,6.9c1.6,1.9,4,3,6.5,3h34.1c3.7,0,7.1-2.4,8.2-6L511.6,323c0.6-1.9,0.5-3.9-0.2-5.7l-12-30c-2.5-6.2-2.5-13,0-19.2l12-29.8c0.4-1,0.6-2.1,0.6-3.2V184v-17.1v-25.6C512,108.4,485.2,81.6,452.3,81.6z M29.6,112.7c-7.4-4-11.2-10.6-12.2-22.6h16.2c4.1-0.2,8,0.7,11.5,2.4c-0.5,0.7-0.9,1.3-1.4,2l-10.9,19.7L29.6,112.7z M426.7,141.3h-25.6v17.1h25.6c9.4,0,17.1,7.7,17.1,17.1v8.5c0,18.8,15.3,34.1,34.1,34.1c6.2,0,12-1.7,17.1-4.6v20l-11.4,28.2c-4.2,10.3-4.2,21.7,0,32l10.9,27.1l-31.4,102h-17.8l15.4-92.5c0.5-2.7-0.4-5.5-2.4-7.4l-44.7-44.7c-8-7.9-12.5-19-12.5-30.2v-12.9H384v12.9c0,15.8,6.4,31.2,17.5,42.3l4.6,4.6H236.2c-12.3-0.1-23,8.2-25.6,20.4l-21.3,107.6h-18.6V301c0-5.9-2.1-11.6-5.8-16.1l-60.3-74.3c-4.9-6-12.1-9.5-19.9-9.5H35.5c-10.1,0-18.4-8.3-18.5-18.4c0-3.2,0.8-6.4,2.4-9.2l38.8-70c7.3-11,20.8-16.4,32.8-13.7l25.6,8.5c2.7,0.9,5.8,0.4,8-1.4c9.3-7.5,22-9.3,33.2-4.8l15,5.8c-7.1,14.2-14.6,17.2-20,17.9h-16.5v17.1h17.1c0.3,0,0.7,0,1.1-0.1c16-2,28.1-13.1,36.7-34.1h260.9c23.5,0,42.7,19.1,42.7,42.7v25.6h0V184c0,9.4-7.7,17.1-17.1,17.1c-9.4,0-17.1-7.7-17.1-17.1v-8.5C460.8,156.6,445.5,141.3,426.7,141.3z\"\n    cow: \"M111.86,2.36H44.32v.08L40.63,1A12.29,12.29,0,0,0,29.18,2.14L23.69.31A12,12,0,0,0,14.29,2a10.7,10.7,0,0,0-6-1.81H2.1A2.13,2.13,0,0,0,0,2.36c0,4,.59,8.88,5.44,11.48l.62.29L1.14,23A8.8,8.8,0,0,0,8.78,36.12H21a2.11,2.11,0,0,1,1.63.79L37.49,55.29A2.11,2.11,0,0,1,38,56.62V88.9A2.1,2.1,0,0,0,40.07,91H48.5a2.13,2.13,0,0,0,2.08-1.71L56.19,61a2.11,2.11,0,0,1,2.15-1.66h46.28l4.94,5-4,24.24A2.1,2.1,0,0,0,107.63,91h8.44a2.12,2.12,0,0,0,2-1.49l8.44-27.43a2.13,2.13,0,0,0,0-1.41l-3-7.42a6.27,6.27,0,0,1,0-4.74l3-7.37a2.15,2.15,0,0,0,.15-.8V17.13A14.79,14.79,0,0,0,111.86,2.36ZM7.32,10.05c-1.83-1-2.77-2.62-3-5.59h4a5.81,5.81,0,0,1,2.84.6l-.34.49-2.7,4.87Zm98.21,7.08H99.2v4.23h6.33a4.24,4.24,0,0,1,4.23,4.22v2.11A8.43,8.43,0,0,0,122.42,35v5l-2.82,7a10.44,10.44,0,0,0,0,7.92l2.7,6.7-7.77,25.23h-4.4l3.81-22.88a2,2,0,0,0-.59-1.83L102.29,51a10.54,10.54,0,0,1-3.09-7.46v-3.2H95v3.2A14.89,14.89,0,0,0,99.3,54l1.14,1.13h-42a6.36,6.36,0,0,0-6.33,5L46.82,86.77h-4.6V56.62a6.25,6.25,0,0,0-1.44-4L25.87,34.27A6.3,6.3,0,0,0,21,31.92H8.78A4.62,4.62,0,0,1,4.2,27.37a4.54,4.54,0,0,1,.6-2.28L14.39,7.78a7.89,7.89,0,0,1,8.12-3.39l6.33,2.1a2.14,2.14,0,0,0,2-.34A8.19,8.19,0,0,1,39,5l3.71,1.43c-1.76,3.51-3.61,4.26-5,4.43H33.71v4.23h4.23a.93.93,0,0,0,.27,0c4-.49,6.95-3.24,9.08-8.43h64.52a10.57,10.57,0,0,1,10.56,10.56v6.33h0v4.21a4.23,4.23,0,0,1-8.46,0V25.58A8.37,8.37,0,0,0,105.53,17.13Z\"\n}","import React from 'react';\nimport consumption from '../data/meat_consumption.csv';\nimport water from '../data/meat_water_cost.csv';\nimport { csv } from 'd3-fetch';\nimport { countries } from 'country-data';\nimport BarChart from './bar_chart';\nimport SelectorModule from './selector_module';\nimport { logos } from '../images/index';\n\n// TO DO:\n// - Content\n        // - Deal with LegendIcons, we need to pass something, you want it in NavBar or On graph?\n//  - SelectorModule: \n        // - Add Current Year if not delete the placeHolder value\n\n\n\n// Work on: \n// UI/UX related:\n// - country tooltip\n// - legend\n// - click filtering\n// - styling\n// - hard value tooltip\n\n// NOTE TO ADD FOR DATA *************\n// Meat consumption is measured in thousand tonnes of carcass weight (except for poultry expressed as ready to cook weight) \n// and in kilograms of retail weight per capita. Carcass weight to retail weight conversion factors are: 0.7 for beef and \n// veal, 0.78 for pigmeat, and 0.88 for both sheep meat and poultry meat.\n\n// ****** Note for water conversion\n// The water footprint of meat from beef cattle at 15,400 litre/kg on average globally is much larger than the \n// footprints of meat from sheep (10,400 litre/kg), pigs (6,000 litre/kg), goats (5,500 litre/kg) or chickens (4,300 litre/kg).\n\n// Also, add note that not all countries have the same stnadards and practies for raeising livestock:\n// Italy, for instance says that the water footprint for its beef production is 25 per cent below the global average.\n\n// The Italian meat body Carni Sostenibili said that compared to the world average Italy uses 11,500 litres of water, of which 87 per cent \n// is water from renewable sources and of which only 1,495 litres actually consumed.\n\n// The organisation adds that the entire meat sector (beef, poultry and pork) uses 80-90 per cent \n// water resources that are part of the natural water cycle and these are returned to the environment, such as rain water. Just 10-20 per cent of the water needed to produce 1 kg of meat is consumed.\n\n// However, on the other hand, the UKâ€™s water footprint is 17,657 litres/kg of which 84 p\n// er cent is green water (14,900 litres), 15.2 per cent grey water (2,690 litres) and just 67 litres or 0.4 per cent is blue water.\n\nclass Content extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            year: '2019', // default value for this year\n            activeSubject: ''\n        };\n        this.updateYear = this.updateYear.bind(this);\n        this.updateSubject = this.updateSubject.bind(this);\n    }\n\n    componentDidMount() {\n        this.getData().then((parsedData) => {\n            const processedData = this.processData(parsedData);\n            this.setState({ \n                // uses emoji slice for adding to objects\n                meat: processedData.meat,\n                // saving this slice for easy passing to axes\n                emojis: parsedData.emojis,\n                water: processedData.water\n            });\n        })\n\n    }\n\n    async getData() {\n        const consumptionData = await csv(consumption);\n        const waterData = await csv(water);\n        const yearRange = [1995, 2025];\n        const unsortedData = this.instantiateStarterObject(yearRange);\n        \n        for (let i = 0; i < consumptionData.length; i++) {\n            // Filter out:\n            //  - Country groups like BRICS\n            //  - Years before our range (assuming we're always going up to 2025)\n            //  - Different measurement tips// currently KG / CAPITA\n            if (typeof countries[consumptionData[i].location] !== 'undefined' && yearRange[0] <= parseInt(consumptionData[i].year) && consumptionData[i].measure === \"KG_CAP\") {\n                let countryName = countries[consumptionData[i].location].name;\n                unsortedData['data'][consumptionData[i].year][consumptionData[i].subject.toLowerCase()][countryName] = consumptionData[i].value\n                // maybe refactor, kind of annoying\n                unsortedData['emojis'][[countries[consumptionData[i].location].name]] = countries[consumptionData[i].location].emoji;\n            }\n        }\n        const processedWaterData = {};\n        waterData.forEach(obj => {\n            let { MEAT, WATER } = obj;\n            processedWaterData[MEAT.toLowerCase()] = WATER;\n        })\n        unsortedData['water'] = processedWaterData;\n\n        return unsortedData\n    }\n\n    processData(unsortedData) {\n        const sorted = this.sortDataByCountry(unsortedData);\n        const meatData = this.calcMeatStacks(sorted);\n        const waterData = this.calcWaterStacks(sorted);        \n        return {meat: meatData, water: waterData};\n    }\n\n    calcMeatStacks(sortedData) {\n        const orderedSubjects = [\"poultry\", \"pork\", \"mutton\", \"beef\"].reverse();\n        const { water, ...clone } = JSON.parse(JSON.stringify(sortedData)); // copying to prevent mutation, have to remove water property to properly iterate\n        for (let year in clone) {\n            clone[year].forEach(dataSet => {\n                let y0 = 0;\n                dataSet.stacks = orderedSubjects.map((subject) => {\n                    return ({ subject: subject, y0: y0, y1: y0 += +dataSet[subject] })\n                })\n                dataSet.total = dataSet.stacks[dataSet.stacks.length - 1].y1;\n            })\n        }\n        return clone;\n    }\n\n    calcWaterStacks(sortedData) {\n        const orderedSubjects = [\"poultry\", \"pork\", \"mutton\", \"beef\"].reverse();\n        const { water, ...clone } = JSON.parse(JSON.stringify(sortedData)); // copying to prevent mutation, have to remove water property to properly iterate\n        for (let year in clone) {\n            clone[year].forEach(dataSet => { orderedSubjects.forEach((subject) => dataSet[subject] *= +water[subject]) // Calc water cost per consumption value\n                let y0 = 0;\n                dataSet.stacks = orderedSubjects.map((subject) => {\n                    return ({ subject: subject, y0: y0, y1: y0 += dataSet[subject]})\n                })\n                dataSet.total = dataSet.stacks[dataSet.stacks.length - 1].y1;\n            })\n        }\n        return clone;\n    }\n\n    sortDataByCountry(unsortedData) {\n        const { data, emojis, water } = unsortedData;\n        const result = {water: water}\n\n        for (let year in data) {\n            let temp = {};\n            for (let subject in data[year]) {\n                for (let country in data[year][subject]) {\n                    if (temp[country]) {\n                        temp[country][subject] = data[year][subject][country];\n                    }\n                    else {\n                        temp[country] = {name: country, emoji: emojis[country], [subject]: data[year][subject][country]};\n                    }\n                }\n            }\n            result[year] = Object.values(temp);\n        }\n        return result;\n    }\n\n    instantiateStarterObject(yearRangeArray) {\n        // Used for parsing data and structuring in an easer-to-iterate format for later calculations\n        const result = {'emojis': {}, 'data': {}};\n        let currentYear = yearRangeArray[0];\n        while (currentYear <= yearRangeArray[1]) {\n            result['data'][currentYear] = {'beef': {}, 'pork': {}, 'poultry': {}, 'mutton': {}};\n            currentYear += 1;\n        }\n        return result;\n    }\n\n    updateYear(dropdownInput) {\n        this.setState({\n            year: dropdownInput.value\n        })\n    }\n\n    updateSubject(subject) {\n        let currentSubject = this.state.activeSubject;\n        if (!currentSubject) {\n            this.setState({ activeSubject: subject });\n            document.querySelectorAll(\".article\").forEach(node => {\n                node.classList.contains(subject) ? node.classList.add(\"active\") : node.classList.add(\"inactive\");\n            })\n        } else if (currentSubject) {\n            if (subject !== currentSubject) return;\n            this.setState({ activeSubject: \"\" });\n            document.querySelectorAll(\".article\").forEach(node => {\n                node.classList.contains(subject) ? node.classList.remove(\"active\") : node.classList.remove(\"inactive\");\n            })\n        }\n    }\n\n    render() {\n        if (!this.state.meat || !this.state.water) return \"\";\n        const { meat, year, emojis, water, activeSubject } = this.state;\n        const margins = {top: 50, right: 20, bottom: 50, left: 60},\n              svgDimensions = {width: 700, height: 380},\n              maxValMeat = 120, // Hard-coded to prevent axis from recalculating if client switches year \n              maxValWater = 1200000, // Hard-coded to prevent axis from recalculating if client switches year\n              meatTitle = \"Global Meat Consumption (Kg Per Capita)\",\n              waterTitle = \"Water Footprint (Litres)\",\n              countryKey = Object.keys(emojis).reduce(function(obj,key){\n                obj[ emojis[key] ] = key;\n                return obj;\n                },{});\n    \n        const iconUrls = logos;\n\n        return (\n            <div className='content'>\n                <SelectorModule\n                    years={Object.keys(meat)}\n                    updateYear={this.updateYear}\n                    defaultValue={year}\n                />\n                <BarChart\n                    svgDimensions={svgDimensions}\n                    margins={margins}\n                    data={meat[year]}\n                    emojis={emojis}\n                    maxValue={maxValMeat}\n                    legendIcons={iconUrls}\n                    updateSubject={this.updateSubject}\n                    activeSubject={activeSubject}\n                    countryKey={countryKey}\n                    title={meatTitle}\n\n                />\n                <BarChart\n                    svgDimensions={svgDimensions}\n                    margins={margins}\n                    data={water[year]}\n                    emojis={emojis}\n                    maxValue={maxValWater}\n                    activeSubject={activeSubject}\n                    countryKey={countryKey}\n                    title={waterTitle}\n\n                />\n            </div>\n        )\n    }\n}\n\nexport default Content;","import React from 'react';\nimport Content from './content';\nimport Tooltip from './tooltip';\nimport '../stylesheets/application.scss';\n\nclass App extends React.Component {\n  render() {\n    return (\n    <div className=\"app\">\n      <Tooltip />\n      <Navbar />\n      <Content />\n    </div>\n    );\n  }\n}\n\nconst Navbar = () => (\n  <div className='navbar'>\n    <h1 className='title'>High Water Steaks</h1>\n    <h2 className='subtitle'>Data-Source: <a href=\"http://www.oecd.org/\" target=\"_blank\" rel=\"noopener nonreferrer\">Organization for Economic Co-Operation and Development</a> | <a href=\"https://www.worldwildlife.org/\" target=\"_blank\" rel=\"noopener nonreferrer\">World Wildlife Foundation</a></h2>\n  </div>\n)\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}